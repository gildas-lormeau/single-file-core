((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).zip={})})(this,(function(e){"use strict";const{Array:t,Object:n,String:s,Number:r,BigInt:a,Math:i,Date:o,Map:c,Set:l,Response:u,URL:f,Error:h,Uint8Array:d,Uint16Array:p,Uint32Array:w,DataView:g,Blob:m,Promise:y,TextEncoder:b,TextDecoder:v,document:k,crypto:S,btoa:z,TransformStream:x,ReadableStream:D,WritableStream:_,CompressionStream:R,DecompressionStream:F,navigator:T,Worker:C}="undefined"!=typeof globalThis?globalThis:this||self;var W=d,U=p,A=Int32Array,L=new W([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E=new W([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),H=new W([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q=(e,t)=>{for(var n=new U(31),s=0;31>s;++s)n[s]=t+=1<<e[s-1];var r=new A(n[30]);for(s=1;30>s;++s)for(var a=n[s];a<n[s+1];++a)r[a]=a-n[s]<<5|s;return{b:n,r:r}},B=q(L,2),P=B.b,M=B.r;P[28]=258,M[258]=28;for(var O=q(E,0),I=O.b,N=O.r,V=new U(32768),K=0;32768>K;++K){var Z=(43690&K)>>1|(21845&K)<<1;Z=(61680&(Z=(52428&Z)>>2|(13107&Z)<<2))>>4|(3855&Z)<<4,V[K]=((65280&Z)>>8|(255&Z)<<8)>>1}var j=(e,t,n)=>{for(var s=e.length,r=0,a=new U(t);s>r;++r)e[r]&&++a[e[r]-1];var i,o=new U(t);for(r=1;t>r;++r)o[r]=o[r-1]+a[r-1]<<1;if(n){i=new U(1<<t);var c=15-t;for(r=0;s>r;++r)if(e[r])for(var l=r<<4|e[r],u=t-e[r],f=o[e[r]-1]++<<u,h=f|(1<<u)-1;h>=f;++f)i[V[f]>>c]=l}else for(i=new U(s),r=0;s>r;++r)e[r]&&(i[r]=V[o[e[r]-1]++]>>15-e[r]);return i},G=new W(288);for(K=0;144>K;++K)G[K]=8;for(K=144;256>K;++K)G[K]=9;for(K=256;280>K;++K)G[K]=7;for(K=280;288>K;++K)G[K]=8;var X=new W(32);for(K=0;32>K;++K)X[K]=5;var J=j(G,9,0),Q=j(G,9,1),Y=j(X,5,0),$=j(X,5,1),ee=e=>{for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},te=(e,t,n)=>{var s=t/8|0;return(e[s]|e[s+1]<<8)>>(7&t)&n},ne=(e,t)=>{var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},se=e=>(e+7)/8|0,re=(e,t,n)=>((null==t||0>t)&&(t=0),(null==n||n>e.length)&&(n=e.length),new W(e.subarray(t,n))),ae=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ie=(e,t,n)=>{var s=new h(t||ae[e]);if(s.code=e,h.captureStackTrace&&h.captureStackTrace(s,ie),!n)throw s;return s},oe=(e,t,n)=>{n<<=7&t;var s=t/8|0;e[s]|=n,e[s+1]|=n>>8},ce=(e,t,n)=>{n<<=7&t;var s=t/8|0;e[s]|=n,e[s+1]|=n>>8,e[s+2]|=n>>16},le=(e,t)=>{for(var n=[],s=0;s<e.length;++s)e[s]&&n.push({s:s,f:e[s]});var r=n.length,a=n.slice();if(!r)return{t:ge,l:0};if(1==r){var i=new W(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort(((e,t)=>e.f-t.f)),n.push({s:-1,f:25001});var o=n[0],c=n[1],l=0,u=1,f=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=r-1;)o=n[n[l].f<n[f].f?l++:f++],c=n[l!=u&&n[l].f<n[f].f?l++:f++],n[u++]={s:-1,f:o.f+c.f,l:o,r:c};var h=a[0].s;for(s=1;r>s;++s)a[s].s>h&&(h=a[s].s);var d=new U(h+1),p=ue(n[u-1],d,0);if(p>t){s=0;var w=0,g=p-t,m=1<<g;for(a.sort(((e,t)=>d[t.s]-d[e.s]||e.f-t.f));r>s;++s){var y=a[s].s;if(d[y]<=t)break;w+=m-(1<<p-d[y]),d[y]=t}for(w>>=g;w>0;){var b=a[s].s;d[b]<t?w-=1<<t-d[b]++-1:++s}for(;s>=0&&w;--s){var v=a[s].s;d[v]==t&&(--d[v],++w)}p=t}return{t:new W(d),l:p}},ue=(e,t,n)=>-1==e.s?i.max(ue(e.l,t,n+1),ue(e.r,t,n+1)):t[e.s]=n,fe=e=>{for(var t=e.length;t&&!e[--t];);for(var n=new U(++t),s=0,r=e[0],a=1,i=e=>{n[s++]=e},o=1;t>=o;++o)if(e[o]==r&&o!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(r),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(r);a=1,r=e[o]}return{c:n.subarray(0,s),n:t}},he=(e,t)=>{for(var n=0,s=0;s<t.length;++s)n+=e[s]*t[s];return n},de=(e,t,n)=>{var s=n.length,r=se(t+2);e[r]=255&s,e[r+1]=s>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var a=0;s>a;++a)e[r+a+4]=n[a];return 8*(r+4+s)},pe=(e,t,n,s,r,a,i,o,c,l,u)=>{oe(t,u++,n),++r[256];for(var f=le(r,15),h=f.t,d=f.l,p=le(a,15),w=p.t,g=p.l,m=fe(h),y=m.c,b=m.n,v=fe(w),k=v.c,S=v.n,z=new U(19),x=0;x<y.length;++x)++z[31&y[x]];for(x=0;x<k.length;++x)++z[31&k[x]];for(var D=le(z,7),_=D.t,R=D.l,F=19;F>4&&!_[H[F-1]];--F);var T,C,W,A,q=l+5<<3,B=he(r,G)+he(a,X)+i,P=he(r,h)+he(a,w)+i+14+3*F+he(z,_)+2*z[16]+3*z[17]+7*z[18];if(c>=0&&B>=q&&P>=q)return de(t,u,e.subarray(c,c+l));if(oe(t,u,1+(B>P)),u+=2,B>P){T=j(h,d,0),C=h,W=j(w,g,0),A=w;var M=j(_,R,0);for(oe(t,u,b-257),oe(t,u+5,S-1),oe(t,u+10,F-4),u+=14,x=0;F>x;++x)oe(t,u+3*x,_[H[x]]);u+=3*F;for(var O=[y,k],I=0;2>I;++I){var N=O[I];for(x=0;x<N.length;++x){var V=31&N[x];oe(t,u,M[V]),u+=_[V],V>15&&(oe(t,u,N[x]>>5&127),u+=N[x]>>12)}}}else T=J,C=G,W=Y,A=X;for(x=0;o>x;++x){var K=s[x];if(K>255){ce(t,u,T[257+(V=K>>18&31)]),u+=C[V+257],V>7&&(oe(t,u,K>>23&31),u+=L[V]);var Z=31&K;ce(t,u,W[Z]),u+=A[Z],Z>3&&(ce(t,u,K>>5&8191),u+=E[Z])}else ce(t,u,T[K]),u+=C[K]}return ce(t,u,T[256]),u+C[256]},we=new A([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ge=new W(0),me=function(){function e(e,t){if("function"==typeof e&&(t=e,e={}),this.ondata=t,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new W(98304),this.o.dictionary){var n=this.o.dictionary.subarray(-32768);this.b.set(n,32768-n.length),this.s.i=32768-n.length}}return e.prototype.p=function(e,t){this.ondata(((e,t,n,s,r)=>{if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new W(a.length+e.length);o.set(a),o.set(e,a.length),e=o,r.w=a.length}return((e,t,n,s,r,a)=>{var o=a.z||e.length,c=new W(0+o+5*(1+i.ceil(o/7e3))+0),l=c.subarray(0,c.length-0),u=a.l,f=7&(a.r||0);if(t){f&&(l[0]=a.r>>3);for(var h=we[t-1],d=h>>13,p=8191&h,w=(1<<n)-1,g=a.p||new U(32768),m=a.h||new U(w+1),y=i.ceil(n/3),b=2*y,v=t=>(e[t]^e[t+1]<<y^e[t+2]<<b)&w,k=new A(25e3),S=new U(288),z=new U(32),x=0,D=0,_=a.i||0,R=0,F=a.w||0,T=0;o>_+2;++_){var C=v(_),H=32767&_,q=m[C];if(g[H]=q,m[C]=H,_>=F){var B=o-_;if((x>7e3||R>24576)&&(B>423||!u)){f=pe(e,l,0,k,S,z,D,R,T,_-T,f),R=x=D=0,T=_;for(var P=0;286>P;++P)S[P]=0;for(P=0;30>P;++P)z[P]=0}var O=2,I=0,V=p,K=H-q&32767;if(B>2&&C==v(_-K))for(var Z=i.min(d,B)-1,j=i.min(32767,_),G=i.min(258,B);j>=K&&--V&&H!=q;){if(e[_+O]==e[_+O-K]){for(var X=0;G>X&&e[_+X]==e[_+X-K];++X);if(X>O){if(O=X,I=K,X>Z)break;var J=i.min(K,X-2),Q=0;for(P=0;J>P;++P){var Y=_-K+P&32767,$=Y-g[Y]&32767;$>Q&&(Q=$,q=Y)}}}K+=(H=q)-(q=g[H])&32767}if(I){k[R++]=268435456|M[O]<<18|N[I];var ee=31&M[O],te=31&N[I];D+=L[ee]+E[te],++S[257+ee],++z[te],F=_+O,++x}else k[R++]=e[_],++S[e[_]]}}for(_=i.max(_,F);o>_;++_)k[R++]=e[_],++S[e[_]];f=pe(e,l,u,k,S,z,D,R,T,_-T,f),u||(a.r=7&f|l[f/8|0]<<3,f-=7,a.h=m,a.p=g,a.i=_,a.w=F)}else{for(_=a.w||0;o+u>_;_+=65535){var ne=_+65535;o>ne||(l[f/8|0]=u,ne=o),f=de(l,f+1,e.subarray(_,ne))}a.i=o}return re(c,0,0+se(f)+0)})(e,null==t.level?6:t.level,null==t.mem?r.l?i.ceil(1.5*i.max(8,i.min(13,i.log(e.length)))):20:12+t.mem,0,0,r)})(e,this.o,0,0,this.s),t)},e.prototype.push=function(e,t){this.ondata||ie(5),this.s.l&&ie(4);var n=e.length+this.s.z;if(n>this.b.length){if(n>2*this.b.length-32768){var s=new W(-32768&n);s.set(this.b.subarray(0,this.s.z)),this.b=s}var r=this.b.length-this.s.z;this.b.set(e.subarray(0,r),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(r),32768),this.s.z=e.length-r+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=1&t,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},e.prototype.flush=function(){this.ondata||ie(5),this.s.l&&ie(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},e}(),ye=function(){function e(e,t){"function"==typeof e&&(t=e,e={}),this.ondata=t;var n=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:n?n.length:0},this.o=new W(32768),this.p=new W(0),n&&this.o.set(n)}return e.prototype.e=function(e){if(this.ondata||ie(5),this.d&&ie(4),this.p.length){if(e.length){var t=new W(this.p.length+e.length);t.set(this.p),t.set(e,this.p.length),this.p=t}}else this.p=e},e.prototype.c=function(e){this.s.i=+(this.d=e||!1);var t=this.s.b,n=((e,t,n)=>{var s=e.length;if(!s||t.f&&!t.l)return n||new W(0);var r=!n,a=r||2!=t.i,o=t.i;r&&(n=new W(3*s));var c=e=>{var t=n.length;if(e>t){var s=new W(i.max(2*t,e));s.set(n),n=s}},l=t.f||0,u=t.p||0,f=t.b||0,h=t.l,d=t.d,p=t.m,w=t.n,g=8*s;do{if(!h){l=te(e,u,1);var m=te(e,u+1,3);if(u+=3,!m){var y=e[(T=se(u)+4)-4]|e[T-3]<<8,b=T+y;if(b>s){o&&ie(0);break}a&&c(f+y),n.set(e.subarray(T,b),f),t.b=f+=y,t.p=u=8*b,t.f=l;continue}if(1==m)h=Q,d=$,p=9,w=5;else if(2==m){var v=te(e,u,31)+257,k=te(e,u+10,15)+4,S=v+te(e,u+5,31)+1;u+=14;for(var z=new W(S),x=new W(19),D=0;k>D;++D)x[H[D]]=te(e,u+3*D,7);u+=3*k;var _=ee(x),R=(1<<_)-1,F=j(x,_,1);for(D=0;S>D;){var T,C=F[te(e,u,R)];if(u+=15&C,16>(T=C>>4))z[D++]=T;else{var U=0,A=0;for(16==T?(A=3+te(e,u,3),u+=2,U=z[D-1]):17==T?(A=3+te(e,u,7),u+=3):18==T&&(A=11+te(e,u,127),u+=7);A--;)z[D++]=U}}var q=z.subarray(0,v),B=z.subarray(v);p=ee(q),w=ee(B),h=j(q,p,1),d=j(B,w,1)}else ie(1);if(u>g){o&&ie(0);break}}a&&c(f+131072);for(var M=(1<<p)-1,O=(1<<w)-1,N=u;;N=u){var V=(U=h[ne(e,u)&M])>>4;if((u+=15&U)>g){o&&ie(0);break}if(U||ie(2),256>V)n[f++]=V;else{if(256==V){N=u,h=null;break}var K=V-254;if(V>264){var Z=L[D=V-257];K=te(e,u,(1<<Z)-1)+P[D],u+=Z}var G=d[ne(e,u)&O],X=G>>4;if(G||ie(3),u+=15&G,B=I[X],X>3&&(Z=E[X],B+=ne(e,u)&(1<<Z)-1,u+=Z),u>g){o&&ie(0);break}a&&c(f+131072);var J=f+K;if(B>f){var Y=0-B,ae=i.min(B,J);for(0>Y+f&&ie(3);ae>f;++f)n[f]=(void 0)[Y+f]}for(;J>f;++f)n[f]=n[f-B]}}t.l=h,t.p=N,t.b=f,t.f=l,h&&(l=1,t.m=p,t.d=d,t.n=w)}while(!l);return f!=n.length&&r?re(n,0,f):n.subarray(0,f)})(this.p,this.s,this.o);this.ondata(re(n,t,this.s.b),this.d),this.o=re(n,this.s.b-32768),this.s.b=this.o.length,this.p=re(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),be=void 0!==v&&new v;try{be.decode(ge,{stream:!0})}catch(e){}const ve=4294967295,ke=65535,Se=33639248,ze=101075792,xe=22,De=void 0,_e="undefined",Re="function";function Fe(e,t,s){return class{constructor(r){const a=this;var i,o;i=r,o="level",(typeof n.hasOwn===Re?n.hasOwn(i,o):i.hasOwnProperty(o))&&r.level===De&&delete r.level,a.codec=new e(n.assign({},t,r)),s(a.codec,(e=>{if(a.pendingData){const t=a.pendingData;a.pendingData=new d(t.length+e.length);const{pendingData:n}=a;n.set(t,0),n.set(e,t.length)}else a.pendingData=new d(e)}))}append(e){return this.codec.push(e),r(this)}flush(){return this.codec.push(new d,!0),r(this)}};function r(e){if(e.pendingData){const t=e.pendingData;return e.pendingData=null,t}return new d}}const{Deflate:Te,Inflate:Ce}=((e,t={},n)=>({Deflate:Fe(e.Deflate,t.deflate,n),Inflate:Fe(e.Inflate,t.inflate,n)}))({Deflate:me,Inflate:ye},De,((e,t)=>e.ondata=t));class We{constructor(e){return class extends x{constructor(t,n){const s=new e(n);super({transform(e,t){t.enqueue(s.append(e))},flush(e){const t=s.flush();t&&e.enqueue(t)}})}}}}let Ue=2;try{typeof T!=_e&&T.hardwareConcurrency&&(Ue=T.hardwareConcurrency)}catch(e){}const Ae={chunkSize:524288,maxWorkers:Ue,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:De,CompressionStreamNative:typeof R!=_e&&R,DecompressionStreamNative:typeof F!=_e&&F},Le=n.assign({},Ae);function Ee(){return Le}function He(e){const{baseURL:n,chunkSize:s,maxWorkers:r,terminateWorkerTimeout:a,useCompressionStream:i,useWebWorkers:o,Deflate:c,Inflate:l,CompressionStream:u,DecompressionStream:f,workerScripts:d}=e;if(qe("baseURL",n),qe("chunkSize",s),qe("maxWorkers",r),qe("terminateWorkerTimeout",a),qe("useCompressionStream",i),qe("useWebWorkers",o),c&&(Le.CompressionStream=new We(c)),l&&(Le.DecompressionStream=new We(l)),qe("CompressionStream",u),qe("DecompressionStream",f),d!==De){const{deflate:e,inflate:n}=d;if((e||n)&&(Le.workerScripts||(Le.workerScripts={})),e){if(!t.isArray(e))throw new h("workerScripts.deflate must be an array");Le.workerScripts.deflate=e}if(n){if(!t.isArray(n))throw new h("workerScripts.inflate must be an array");Le.workerScripts.inflate=n}}}function qe(e,t){t!==De&&(Le[e]=t)}const Be="HTTP error ",Pe="HTTP Range not supported",Me="Content-Length",Oe="Range",Ie="HEAD",Ne="GET",Ve="bytes",Ke=65536,Ze="writable";class je{constructor(){this.size=0}init(){this.initialized=!0}}class Ge extends je{get readable(){const e=this,{chunkSize:t=Ke}=e,n=new D({start(){this.chunkOffset=0},async pull(s){const{offset:r=0,size:a,diskNumberStart:o}=n,{chunkOffset:c}=this;s.enqueue(await gt(e,r+c,i.min(t,a-c),o)),c+t>a?s.close():this.chunkOffset+=t}});return n}}class Xe extends je{constructor(){super();const e=this,t=new _({write:t=>e.writeUint8Array(t)});n.defineProperty(e,Ze,{get:()=>t})}writeUint8Array(){}}class Je extends Ge{constructor(e){super(),n.assign(this,{blob:e,size:e.size})}async readUint8Array(e,t){const n=this,s=e+t,r=e||s<n.size?n.blob.slice(e,s):n.blob;let a=await r.arrayBuffer();return a.byteLength>t&&(a=a.slice(e,s)),new d(a)}}class Qe extends je{constructor(e){super();const t=new x,s=[];e&&s.push(["Content-Type",e]),n.defineProperty(this,Ze,{get:()=>t.writable}),this.blob=new u(t.readable,{headers:s}).blob()}getData(){return this.blob}}class Ye extends Ge{constructor(e,t){super(),et(this,e,t)}async init(){await tt(this,lt,at),super.init()}readUint8Array(e,t){return nt(this,e,t,lt,at)}}class $e extends Ge{constructor(e,t){super(),et(this,e,t)}async init(){await tt(this,ut,it),super.init()}readUint8Array(e,t){return nt(this,e,t,ut,it)}}function et(e,t,s){const{preventHeadRequest:r,useRangeHeader:a,forceRangeRequests:i,combineSizeEocd:o}=s;delete(s=n.assign({},s)).preventHeadRequest,delete s.useRangeHeader,delete s.forceRangeRequests,delete s.combineSizeEocd,delete s.useXHR,n.assign(e,{url:t,options:s,preventHeadRequest:r,useRangeHeader:a,forceRangeRequests:i,combineSizeEocd:o})}async function tt(e,t,n){const{url:s,preventHeadRequest:a,useRangeHeader:i,forceRangeRequests:o,combineSizeEocd:c}=e;if((e=>{const{baseURL:t}=Ee(),{protocol:n}=new f(e,t);return"http:"==n||"https:"==n})(s)&&(i||o)&&(void 0===a||a)){const s=await t(Ne,e,st(e,c?-22:void 0));if(!o&&s.headers.get("Accept-Ranges")!=Ve)throw new h(Pe);{let a;c&&(e.eocdCache=new d(await s.arrayBuffer()));const i=s.headers.get("Content-Range");if(i){const e=i.trim().split(/\s*\/\s*/);if(e.length){const t=e[1];t&&"*"!=t&&(a=r(t))}}a===De?await ct(e,t,n):e.size=a}}else await ct(e,t,n)}async function nt(e,t,n,s,r){const{useRangeHeader:a,forceRangeRequests:i,eocdCache:o,size:c,options:l}=e;if(a||i){if(o&&t==c-xe&&n==xe)return o;const r=await s(Ne,e,st(e,t,n));if(206!=r.status)throw new h(Pe);return new d(await r.arrayBuffer())}{const{data:s}=e;return s||await r(e,l),new d(e.data.subarray(t,t+n))}}function st(e,t=0,s=1){return n.assign({},rt(e),{[Oe]:Ve+"="+(0>t?t:t+"-"+(t+s-1))})}function rt({options:e}){const{headers:t}=e;if(t)return Symbol.iterator in t?n.fromEntries(t):t}async function at(e){await ot(e,lt)}async function it(e){await ot(e,ut)}async function ot(e,t){const n=await t(Ne,e,rt(e));e.data=new d(await n.arrayBuffer()),e.size||(e.size=e.data.length)}async function ct(e,t,n){if(e.preventHeadRequest)await n(e,e.options);else{const s=(await t(Ie,e,rt(e))).headers.get(Me);s?e.size=r(s):await n(e,e.options)}}async function lt(e,{options:t,url:s},r){const a=await fetch(s,n.assign({},t,{method:e,headers:r}));if(400>a.status)return a;throw 416==a.status?new h(Pe):new h(Be+(a.statusText||a.status))}function ut(e,{url:t},s){return new y(((r,a)=>{const i=new XMLHttpRequest;if(i.addEventListener("load",(()=>{if(400>i.status){const e=[];i.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((t=>{const n=t.trim().split(/\s*:\s*/);n[0]=n[0].trim().replace(/^[a-z]|-[a-z]/g,(e=>e.toUpperCase())),e.push(n)})),r({status:i.status,arrayBuffer:()=>i.response,headers:new c(e)})}else a(416==i.status?new h(Pe):new h(Be+(i.statusText||i.status)))}),!1),i.addEventListener("error",(e=>a(e.detail?e.detail.error:new h("Network error"))),!1),i.open(e,t),s)for(const e of n.entries(s))i.setRequestHeader(e[0],e[1]);i.responseType="arraybuffer",i.send()}))}class ft extends Ge{constructor(e,t={}){super(),n.assign(this,{url:e,reader:t.useXHR?new $e(e,t):new Ye(e,t)})}set size(e){}get size(){return this.reader.size}async init(){await this.reader.init(),super.init()}readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}class ht extends Ge{constructor(e){super(),this.readers=e}async init(){const e=this,{readers:t}=e;e.lastDiskNumber=0,e.lastDiskOffset=0,await y.all(t.map((async(n,s)=>{await n.init(),s!=t.length-1&&(e.lastDiskOffset+=n.size),e.size+=n.size}))),super.init()}async readUint8Array(e,t,n=0){const s=this,{readers:r}=this;let a,o=n;-1==o&&(o=r.length-1);let c=e;for(;c>=r[o].size;)c-=r[o].size,o++;const l=r[o],u=l.size;if(c+t>u){const r=u-c;a=new d(t),a.set(await gt(l,c,r)),a.set(await s.readUint8Array(e+r,t-r,n),r)}else a=await gt(l,c,t);return s.lastDiskNumber=i.max(o,s.lastDiskNumber),a}}class dt extends je{constructor(e,t=4294967295){super();const s=this;let r,a,i;n.assign(s,{diskNumber:0,diskOffset:0,size:0,maxSize:t,availableSize:t});const o=new _({async write(t){const{availableSize:n}=s;if(i)t.length<n?await c(t):(await c(t.slice(0,n)),await l(),s.diskOffset+=r.size,s.diskNumber++,i=null,await this.write(t.slice(n)));else{const{value:n,done:o}=await e.next();if(o&&!n)throw new h("Writer iterator completed too soon");r=n,r.size=0,r.maxSize&&(s.maxSize=r.maxSize),s.availableSize=s.maxSize,await pt(r),a=n.writable,i=a.getWriter(),await this.write(t)}},async close(){await i.ready,await l()}});async function c(e){const t=e.length;t&&(await i.ready,await i.write(e),r.size+=t,s.size+=t,s.availableSize-=t)}async function l(){a.size=r.size,await i.close()}n.defineProperty(s,Ze,{get:()=>o})}}async function pt(e,t){if(!e.init||e.initialized)return y.resolve();await e.init(t)}function wt(e){return t.isArray(e)&&(e=new ht(e)),e instanceof D&&(e={readable:e}),e}function gt(e,t,n,s){return e.readUint8Array(t,n,s)}const mt=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;mt[e]=t}class yt{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let n=0,s=0|e.length;s>n;n++)t=t>>>8^mt[255&(t^e[n])];this.crc=t}get(){return~this.crc}}class bt extends x{constructor(){let e;const t=new yt;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new d(4);new g(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const vt={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],s=vt.getPartial(n);return 32===s?e.concat(t):vt._shiftRight(t,s,0|n,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+vt.getPartial(n)},clamp(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,i.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=vt.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,getPartial:e=>i.round(e/1099511627776)||32,_shiftRight(e,t,n,s){for(void 0===s&&(s=[]);t>=32;t-=32)s.push(n),n=0;if(0===t)return s.concat(e);for(let r=0;r<e.length;r++)s.push(n|e[r]>>>t),n=e[r]<<32-t;const r=e.length?e[e.length-1]:0,a=vt.getPartial(r);return s.push(vt.partial(t+a&31,t+a>32?n:s.pop(),1)),s}},kt={bytes:{fromBits(e){const t=vt.bitLength(e)/8,n=new d(t);let s;for(let r=0;t>r;r++)3&r||(s=e[r/4]),n[r]=s>>>24,s<<=8;return n},toBits(e){const t=[];let n,s=0;for(n=0;n<e.length;n++)s=s<<8|e[n],3&~n||(t.push(s),s=0);return 3&n&&t.push(vt.partial(8*(3&n),s)),t}}},St=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;"string"==typeof e&&(e=kt.utf8String.toBits(e));const n=t._buffer=vt.concat(t._buffer,e),s=t._length,r=t._length=s+vt.bitLength(e);if(r>9007199254740991)throw new h("Cannot hash more than 2^53 - 1 bits");const a=new w(n);let i=0;for(let e=t.blockSize+s-(t.blockSize+s&t.blockSize-1);r>=e;e+=t.blockSize)t._block(a.subarray(16*i,16*(i+1))),i+=1;return n.splice(0,16*i),t}finalize(){const e=this;let t=e._buffer;const n=e._h;t=vt.concat(t,[vt.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(i.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),n}_f(e,t,n,s){return e>19?e>39?e>59?e>79?void 0:t^n^s:t&n|t&s|n&s:t^n^s:t&n|~t&s}_S(e,t){return t<<e|t>>>32-e}_block(e){const n=this,s=n._h,r=t(80);for(let t=0;16>t;t++)r[t]=e[t];let a=s[0],o=s[1],c=s[2],l=s[3],u=s[4];for(let e=0;79>=e;e++){16>e||(r[e]=n._S(1,r[e-3]^r[e-8]^r[e-14]^r[e-16]));const t=n._S(5,a)+n._f(e,o,c,l)+u+r[e]+n._key[i.floor(e/20)]|0;u=l,l=c,c=n._S(30,o),o=a,a=t}s[0]=s[0]+a|0,s[1]=s[1]+o|0,s[2]=s[2]+c|0,s[3]=s[3]+l|0,s[4]=s[4]+u|0}},zt={getRandomValues(e){const t=new w(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(i.random()>.5?1:-1))};for(let s,r=0;r<e.length;r+=4){const e=n(4294967296*(s||i.random()));s=987654071*e(),t[r/4]=4294967296*e()|0}return e}},xt={importKey:e=>new xt.hmacSha1(kt.bytes.toBits(e)),pbkdf2(e,t,n,s){if(n=n||1e4,0>s||0>n)throw new h("invalid params to pbkdf2");const r=1+(s>>5)<<2;let a,i,o,c,l;const u=new ArrayBuffer(r),f=new g(u);let d=0;const p=vt;for(t=kt.bytes.toBits(t),l=1;(r||1)>d;l++){for(a=i=e.encrypt(p.concat(t,[l])),o=1;n>o;o++)for(i=e.encrypt(i),c=0;c<i.length;c++)a[c]^=i[c];for(o=0;(r||1)>d&&o<a.length;o++)f.setInt32(d,a[o]),d+=4}return u.slice(0,s/8)},hmacSha1:class{constructor(e){const t=this,n=t._hash=St,s=[[],[]];t._baseHash=[new n,new n];const r=t._baseHash[0].blockSize/32;e.length>r&&(e=(new n).update(e).finalize());for(let t=0;r>t;t++)s[0][t]=909522486^e[t],s[1][t]=1549556828^e[t];t._baseHash[0].update(s[0]),t._baseHash[1].update(s[1]),t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new h("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},Dt=typeof S!=_e&&typeof S.getRandomValues==Re,_t="Invalid password",Rt="Invalid signature",Ft="zipjs-abort-check-password";function Tt(e){return Dt?S.getRandomValues(e):zt.getRandomValues(e)}const Ct=16,Wt={name:"PBKDF2"},Ut=n.assign({hash:{name:"HMAC"}},Wt),At=n.assign({iterations:1e3,hash:{name:"SHA-1"}},Wt),Lt=["deriveBits"],Et=[8,12,16],Ht=[16,24,32],qt=10,Bt=[0,0,0,0],Pt=typeof S!=_e,Mt=Pt&&S.subtle,Ot=Pt&&typeof Mt!=_e,It=kt.bytes,Nt=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],s=t._tables[1],r=e.length;let a,i,o,c=1;if(4!==r&&6!==r&&8!==r)throw new h("invalid aes key size");for(t._key=[i=e.slice(0),o=[]],a=r;4*r+28>a;a++){let e=i[a-1];(a%r==0||8===r&&a%r==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],a%r==0&&(e=e<<8^e>>>24^c<<24,c=c<<1^283*(c>>7))),i[a]=i[a-r]^e}for(let e=0;a;e++,a--){const t=i[3&e?a:a-4];o[e]=4>=a||4>e?t:s[0][n[t>>>24]]^s[1][n[t>>16&255]]^s[2][n[t>>8&255]]^s[3][n[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],s=t[4],r=[],a=[];let i,o,c,l;for(let e=0;256>e;e++)a[(r[e]=e<<1^283*(e>>7))^e]=e;for(let u=i=0;!n[u];u^=o||1,i=a[i]||1){let a=i^i<<1^i<<2^i<<3^i<<4;a=a>>8^255&a^99,n[u]=a,s[a]=u,l=r[c=r[o=r[u]]];let f=16843009*l^65537*c^257*o^16843008*u,h=257*r[a]^16843008*a;for(let n=0;4>n;n++)e[n][u]=h=h<<24^h>>>8,t[n][a]=f=f<<24^f>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}_crypt(e,t){if(4!==e.length)throw new h("invalid aes block size");const n=this._key[t],s=n.length/4-2,r=[0,0,0,0],a=this._tables[t],i=a[0],o=a[1],c=a[2],l=a[3],u=a[4];let f,d,p,w=e[0]^n[0],g=e[t?3:1]^n[1],m=e[2]^n[2],y=e[t?1:3]^n[3],b=4;for(let e=0;s>e;e++)f=i[w>>>24]^o[g>>16&255]^c[m>>8&255]^l[255&y]^n[b],d=i[g>>>24]^o[m>>16&255]^c[y>>8&255]^l[255&w]^n[b+1],p=i[m>>>24]^o[y>>16&255]^c[w>>8&255]^l[255&g]^n[b+2],y=i[y>>>24]^o[w>>16&255]^c[g>>8&255]^l[255&m]^n[b+3],b+=4,w=f,g=d,m=p;for(let e=0;4>e;e++)r[t?3&-e:e]=u[w>>>24]<<24^u[g>>16&255]<<16^u[m>>8&255]<<8^u[255&y]^n[b++],f=w,w=g,g=m,m=y,y=f;return r}},Vt=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,n=e>>8&255,s=255&e;255===t?(t=0,255===n?(n=0,255===s?s=0:++s):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=s}return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let s;if(!(s=t.length))return[];const r=vt.bitLength(t);for(let r=0;s>r;r+=4){this.incCounter(n);const s=e.encrypt(n);t[r]^=s[0],t[r+1]^=s[1],t[r+2]^=s[2],t[r+3]^=s[3]}return vt.clamp(t,r)}},Kt=xt.hmacSha1;let Zt=Pt&&Ot&&typeof Mt.importKey==Re,jt=Pt&&Ot&&typeof Mt.deriveBits==Re;class Gt extends x{constructor({password:e,rawPassword:t,signed:s,encryptionStrength:r,checkPasswordOnly:a}){super({start(){n.assign(this,{ready:new y((e=>this.resolveReady=e)),password:Yt(e,t),signed:s,strength:r-1,pending:new d})},async transform(e,t){const n=this,{password:s,strength:r,resolveReady:i,ready:o}=n;s?(await(async(e,t,n,s)=>{const r=await Qt(e,t,n,en(s,0,Et[t])),a=en(s,Et[t]);if(r[0]!=a[0]||r[1]!=a[1])throw new h(_t)})(n,r,s,en(e,0,Et[r]+2)),e=en(e,Et[r]+2),a?t.error(new h(Ft)):i()):await o;const c=new d(e.length-qt-(e.length-qt)%Ct);t.enqueue(Jt(n,e,c,0,qt,!0))},async flush(e){const{signed:t,ctr:n,hmac:s,pending:r,ready:a}=this;if(s&&n){await a;const i=en(r,0,r.length-qt),o=en(r,r.length-qt);let c=new d;if(i.length){const e=nn(It,i);s.update(e);const t=n.update(e);c=tn(It,t)}if(t){const e=en(tn(It,s.digest()),0,qt);for(let t=0;qt>t;t++)if(e[t]!=o[t])throw new h(Rt)}e.enqueue(c)}}})}}class Xt extends x{constructor({password:e,rawPassword:t,encryptionStrength:s}){let r;super({start(){n.assign(this,{ready:new y((e=>this.resolveReady=e)),password:Yt(e,t),strength:s-1,pending:new d})},async transform(e,t){const n=this,{password:s,strength:r,resolveReady:a,ready:i}=n;let o=new d;s?(o=await(async(e,t,n)=>{const s=Tt(new d(Et[t]));return $t(s,await Qt(e,t,n,s))})(n,r,s),a()):await i;const c=new d(o.length+e.length-e.length%Ct);c.set(o,0),t.enqueue(Jt(n,e,c,o.length,0))},async flush(e){const{ctr:t,hmac:n,pending:s,ready:a}=this;if(n&&t){await a;let i=new d;if(s.length){const e=t.update(nn(It,s));n.update(e),i=tn(It,e)}r.signature=tn(It,n.digest()).slice(0,qt),e.enqueue($t(i,r.signature))}}}),r=this}}function Jt(e,t,n,s,r,a){const{ctr:i,hmac:o,pending:c}=e,l=t.length-r;let u;for(c.length&&(t=$t(c,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new d(t)).set(n,0)}return e})(n,l-l%Ct)),u=0;l-Ct>=u;u+=Ct){const e=nn(It,en(t,u,u+Ct));a&&o.update(e);const r=i.update(e);a||o.update(r),n.set(tn(It,r),u+s)}return e.pending=en(t,u),n}async function Qt(e,s,r,a){e.password=null;const i=await(async(e,t,n,s,r)=>{if(!Zt)return xt.importKey(t);try{return await Mt.importKey("raw",t,n,!1,r)}catch(e){return Zt=!1,xt.importKey(t)}})(0,r,Ut,0,Lt),o=await(async(e,t,n)=>{if(!jt)return xt.pbkdf2(t,e.salt,At.iterations,n);try{return await Mt.deriveBits(e,t,n)}catch(s){return jt=!1,xt.pbkdf2(t,e.salt,At.iterations,n)}})(n.assign({salt:a},At),i,8*(2*Ht[s]+2)),c=new d(o),l=nn(It,en(c,0,Ht[s])),u=nn(It,en(c,Ht[s],2*Ht[s])),f=en(c,2*Ht[s]);return n.assign(e,{keys:{key:l,authentication:u,passwordVerification:f},ctr:new Vt(new Nt(l),t.from(Bt)),hmac:new Kt(u)}),f}function Yt(e,t){return t===De?(e=>{if(typeof b==_e){const t=new d((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new b).encode(e)})(e):t}function $t(e,t){let n=e;return e.length+t.length&&(n=new d(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function en(e,t,n){return e.subarray(t,n)}function tn(e,t){return e.fromBits(t)}function nn(e,t){return e.toBits(t)}class sn extends x{constructor({password:e,passwordVerification:t,checkPasswordOnly:s}){super({start(){n.assign(this,{password:e,passwordVerification:t}),cn(this,e)},transform(e,t){const n=this;if(n.password){const t=an(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new h(_t);e=e.subarray(12)}s?t.error(new h(Ft)):t.enqueue(an(n,e))}})}}class rn extends x{constructor({password:e,passwordVerification:t}){super({start(){n.assign(this,{password:e,passwordVerification:t}),cn(this,e)},transform(e,t){const n=this;let s,r;if(n.password){n.password=null;const t=Tt(new d(12));t[11]=n.passwordVerification,s=new d(e.length+t.length),s.set(on(n,t),0),r=12}else s=new d(e.length),r=0;s.set(on(n,e),r),t.enqueue(s)}})}}function an(e,t){const n=new d(t.length);for(let s=0;s<t.length;s++)n[s]=un(e)^t[s],ln(e,n[s]);return n}function on(e,t){const n=new d(t.length);for(let s=0;s<t.length;s++)n[s]=un(e)^t[s],ln(e,t[s]);return n}function cn(e,t){const s=[305419896,591751049,878082192];n.assign(e,{keys:s,crcKey0:new yt(s[0]),crcKey2:new yt(s[2])});for(let n=0;n<t.length;n++)ln(e,t.charCodeAt(n))}function ln(e,t){let[n,s,r]=e.keys;e.crcKey0.append([t]),n=~e.crcKey0.get(),s=hn(i.imul(hn(s+fn(n)),134775813)+1),e.crcKey2.append([s>>>24]),r=~e.crcKey2.get(),e.keys=[n,s,r]}function un(e){const t=2|e.keys[2];return fn(i.imul(t,1^t)>>>8)}function fn(e){return 255&e}function hn(e){return 4294967295&e}const dn="deflate-raw";class pn extends x{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:s}){super({});const{compressed:r,encrypted:a,useCompressionStream:i,zipCrypto:o,signed:c,level:l}=e,u=this;let f,h,d=gn(super.readable);a&&!o||!c||(f=new bt,d=bn(d,f)),r&&(d=yn(d,i,{level:l,chunkSize:t},s,n)),a&&(o?d=bn(d,new rn(e)):(h=new Xt(e),d=bn(d,h))),mn(u,d,(()=>{let e;a&&!o&&(e=h.signature),a&&!o||!c||(e=new g(f.value.buffer).getUint32(0)),u.signature=e}))}}class wn extends x{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:s}){super({});const{zipCrypto:r,encrypted:a,signed:i,signature:o,compressed:c,useCompressionStream:l}=e;let u,f,d=gn(super.readable);a&&(r?d=bn(d,new sn(e)):(f=new Gt(e),d=bn(d,f))),c&&(d=yn(d,l,{chunkSize:t},s,n)),a&&!r||!i||(u=new bt,d=bn(d,u)),mn(this,d,(()=>{if((!a||r)&&i){const e=new g(u.value.buffer);if(o!=e.getUint32(0,!1))throw new h(Rt)}}))}}function gn(e){return bn(e,new x({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function mn(e,t,s){t=bn(t,new x({flush:s})),n.defineProperty(e,"readable",{get:()=>t})}function yn(e,t,n,s,r){try{e=bn(e,new(t&&s?s:r)(dn,n))}catch(s){if(!t)return e;try{e=bn(e,new r(dn,n))}catch(t){return e}}return e}function bn(e,t){return e.pipeThrough(t)}const vn="data",kn="close",Sn="inflate";class zn extends x{constructor(e,t){super({});const s=this,{codecType:r}=e;let a;r.startsWith("deflate")?a=pn:r.startsWith(Sn)&&(a=wn);let i=0,o=0;const c=new a(e,t),l=super.readable,u=new x({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){n.assign(s,{inputSize:o})}}),f=new x({transform(e,t){e&&e.length&&(i+=e.length,t.enqueue(e))},flush(){const{signature:e}=c;n.assign(s,{signature:e,outputSize:i,inputSize:o})}});n.defineProperty(s,"readable",{get:()=>l.pipeThrough(u).pipeThrough(c).pipeThrough(f)})}}class xn extends x{constructor(e){let t;super({transform:function n(s,r){if(t){const e=new d(t.length+s.length);e.set(t),e.set(s,t.length),s=e,t=null}s.length>e?(r.enqueue(s.slice(0,e)),n(s.slice(e),r)):t=s},flush(e){t&&t.length&&e.enqueue(t)}})}}let Dn=typeof C!=_e;class _n{constructor(e,{readable:t,writable:s},{options:r,config:a,streamOptions:i,useWebWorkers:o,transferStreams:c,scripts:l},u){const{signal:f}=i;return n.assign(e,{busy:!0,readable:t.pipeThrough(new xn(a.chunkSize)).pipeThrough(new Rn(t,i),{signal:f}),writable:s,options:n.assign({},r),scripts:l,transferStreams:c,terminate:()=>new y((t=>{const{worker:n,busy:s}=e;n?(s?e.resolveTerminated=t:(n.terminate(),t()),e.interface=null):t()})),onTaskFinished(){const{resolveTerminated:t}=e;t&&(e.resolveTerminated=null,e.terminated=!0,e.worker.terminate(),t()),e.busy=!1,u(e)}}),(o&&Dn?Cn:Tn)(e,a)}}class Rn extends x{constructor(e,{onstart:t,onprogress:n,size:s,onend:r}){let a=0;super({async start(){t&&await Fn(t,s)},async transform(e,t){a+=e.length,n&&await Fn(n,a,s),t.enqueue(e)},async flush(){e.size=a,r&&await Fn(r,a)}})}}async function Fn(e,...t){try{await e(...t)}catch(e){}}function Tn(e,t){return{run:()=>(async({options:e,readable:t,writable:n,onTaskFinished:s},r)=>{try{const s=new zn(e,r);await t.pipeThrough(s).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:a,inputSize:i,outputSize:o}=s;return{signature:a,inputSize:i,outputSize:o}}finally{s()}})(e,t)}}function Cn(e,t){const{baseURL:s,chunkSize:r}=t;if(!e.interface){let a;try{a=((e,t,s)=>{const r={type:"module"};let a,i;typeof e==Re&&(e=e());try{a=new f(e,t)}catch(t){a=e}if(Wn)try{i=new C(a)}catch(e){Wn=!1,i=new C(a,r)}else i=new C(a,r);return i.addEventListener("message",(e=>(async({data:e},t)=>{const{type:s,value:r,messageId:a,result:i,error:o}=e,{reader:c,writer:l,resolveResult:u,rejectResult:f,onTaskFinished:p}=t;try{if(o){const{message:e,stack:t,code:s,name:r}=o,a=new h(e);n.assign(a,{stack:t,code:s,name:r}),w(a)}else{if("pull"==s){const{value:e,done:n}=await c.read();An({type:vn,value:e,done:n,messageId:a},t)}s==vn&&(await l.ready,await l.write(new d(r)),An({type:"ack",messageId:a},t)),s==kn&&w(null,i)}}catch(o){An({type:kn,messageId:a},t),w(o)}function w(e,t){e?f(e):u(t),l&&l.releaseLock(),p()}})(e,s))),i})(e.scripts[0],s,e)}catch(n){return Dn=!1,Tn(e,t)}n.assign(e,{worker:a,interface:{run:()=>(async(e,t)=>{let s,r;const a=new y(((e,t)=>{s=e,r=t}));n.assign(e,{reader:null,writer:null,resolveResult:s,rejectResult:r,result:a});const{readable:i,options:o,scripts:c}=e,{writable:l,closed:u}=(e=>{let t;const n=new y((e=>t=e));return{writable:new _({async write(t){const n=e.getWriter();await n.ready,await n.write(t),n.releaseLock()},close(){t()},abort:t=>e.getWriter().abort(t)}),closed:n}})(e.writable),f=An({type:"start",scripts:c.slice(1),options:o,config:t,readable:i,writable:l},e);f||n.assign(e,{reader:i.getReader(),writer:l.getWriter()});const h=await a;return f||await l.getWriter().close(),await u,h})(e,{chunkSize:r})}})}return e.interface}let Wn=!0,Un=!0;function An(e,{worker:t,writer:n,onTaskFinished:s,transferStreams:r}){try{let{value:n,readable:s,writable:a}=e;const i=[];if(n&&(n.byteLength<n.buffer.byteLength?e.value=n.buffer.slice(0,n.byteLength):e.value=n.buffer,i.push(e.value)),r&&Un?(s&&i.push(s),a&&i.push(a)):e.readable=e.writable=null,i.length)try{return t.postMessage(e,i),!0}catch(n){Un=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(e){throw n&&n.releaseLock(),s(),e}}let Ln=[];const En=[];let Hn=0;function qn(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}const Bn="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),Pn=256==Bn.length;function Mn(e,t){return t&&"cp437"==t.trim().toLowerCase()?(e=>{if(Pn){let t="";for(let n=0;n<e.length;n++)t+=Bn[e[n]];return t}return(new v).decode(e)})(e):new v(t).decode(e)}const On="filename",In="rawFilename",Nn="comment",Vn="rawComment",Kn="uncompressedSize",Zn="compressedSize",jn="offset",Gn="diskNumberStart",Xn="lastModDate",Jn="rawLastModDate",Qn="lastAccessDate",Yn="creationDate",$n=[On,In,Zn,Kn,Xn,Jn,Nn,Vn,Qn,Yn,jn,Gn,Gn,"internalFileAttribute","externalFileAttribute","msDosCompatible","zip64","directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class es{constructor(e){$n.forEach((t=>this[t]=e[t]))}}const ts="File format is not recognized",ns="Compression method not supported",ss="Split zip file",rs="utf-8",as="cp437",is=[[Kn,ve],[Zn,ve],[jn,ve],[Gn,ke]],os={[ke]:{getValue:ms,bytes:4},[ve]:{getValue:ys,bytes:8}};class cs{constructor(e,t,s){n.assign(this,{reader:e,config:t,options:s})}async getData(e,t,s={}){const a=this,{reader:i,offset:o,diskNumberStart:c,extraFieldAES:l,compressionMethod:u,config:f,bitFlag:p,signature:w,rawLastModDate:g,uncompressedSize:m,compressedSize:b}=a,v=t.localDirectory={},k=bs(await gt(i,o,30,c));let S=hs(a,s,"password"),z=hs(a,s,"rawPassword");if(S=S&&S.length&&S,z=z&&z.length&&z,l&&99!=l.originalCompressionMethod)throw new h(ns);if(0!=u&&8!=u)throw new h(ns);if(67324752!=ms(k,0))throw new h("Local file header not found");ls(v,k,4),v.rawExtraField=v.extraFieldLength?await gt(i,o+30+v.filenameLength,v.extraFieldLength,c):new d,await us(a,v,k,4,!0),n.assign(t,{lastAccessDate:v.lastAccessDate,creationDate:v.creationDate});const x=a.encrypted&&v.encrypted,D=x&&!l;if(x){if(!D&&l.strength===De)throw new h("Encryption method not supported");if(!S&&!z)throw new h("File contains encrypted entry")}const R=o+30+v.filenameLength+v.extraFieldLength,F=b,T=i.readable;n.assign(T,{diskNumberStart:c,offset:R,size:F});const C=hs(a,s,"signal"),W=hs(a,s,"checkPasswordOnly");W&&(e=new _),e=(e=>{e.writable===De&&typeof e.next==Re&&(e=new dt(e)),e instanceof _&&(e={writable:e});const{writable:t}=e;return t.size===De&&(t.size=0),e instanceof dt||n.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e})(e),await pt(e,m);const{writable:U}=e,{onstart:A,onprogress:L,onend:E}=s,H={options:{codecType:Sn,password:S,rawPassword:z,zipCrypto:D,encryptionStrength:l&&l.strength,signed:hs(a,s,"checkSignature"),passwordVerification:D&&(p.dataDescriptor?g>>>8&255:w>>>24&255),signature:w,compressed:0!=u,encrypted:x,useWebWorkers:hs(a,s,"useWebWorkers"),useCompressionStream:hs(a,s,"useCompressionStream"),transferStreams:hs(a,s,"transferStreams"),checkPasswordOnly:W},config:f,streamOptions:{signal:C,size:F,onstart:A,onprogress:L,onend:E}};let q=0;try{({outputSize:q}=await(async(e,t)=>{const{options:n,config:s}=t,{transferStreams:a,useWebWorkers:i,useCompressionStream:o,codecType:c,compressed:l,signed:u,encrypted:f}=n,{workerScripts:h,maxWorkers:d}=s;t.transferStreams=a||a===De;const p=!(l||u||f||t.transferStreams);return t.useWebWorkers=!p&&(i||i===De&&s.useWebWorkers),t.scripts=t.useWebWorkers&&h?h[c]:[],n.useCompressionStream=o||o===De&&s.useCompressionStream,(await(async()=>{const n=Ln.find((e=>!e.busy));if(n)return qn(n),new _n(n,e,t,w);if(Ln.length<d){const n={indexWorker:Hn};return Hn++,Ln.push(n),new _n(n,e,t,w)}return new y((n=>En.push({resolve:n,stream:e,workerOptions:t})))})()).run();function w(e){if(En.length){const[{resolve:t,stream:n,workerOptions:s}]=En.splice(0,1);t(new _n(e,n,s,w))}else e.worker?(qn(e),((e,t)=>{const{config:n}=t,{terminateWorkerTimeout:s}=n;r.isFinite(s)&&s>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout((async()=>{Ln=Ln.filter((t=>t!=e));try{await e.terminate()}catch(e){}}),s))})(e,t)):Ln=Ln.filter((t=>t!=e))}})({readable:T,writable:U},H))}catch(e){if(!W||e.message!=Ft)throw e}finally{const e=hs(a,s,"preventClose");U.size+=q,e||U.locked||await U.getWriter().close()}return W?De:e.getData?e.getData():U}}function ls(e,t,s){const r=e.rawBitFlag=gs(t,s+2),a=!(1&~r),i=ms(t,s+6);n.assign(e,{encrypted:a,version:gs(t,s),bitFlag:{level:(6&r)>>1,dataDescriptor:!(8&~r),languageEncodingFlag:!(2048&~r)},rawLastModDate:i,lastModDate:ds(i),filenameLength:gs(t,s+22),extraFieldLength:gs(t,s+24)})}async function us(e,t,s,r,a){const{rawExtraField:i}=t,l=t.extraField=new c,u=bs(new d(i));let f=0;try{for(;f<i.length;){const e=gs(u,f),t=gs(u,f+2);l.set(e,{type:e,data:i.slice(f+4,f+4+t)}),f+=4+t}}catch(e){}const p=gs(s,r+4);n.assign(t,{signature:ms(s,r+10),uncompressedSize:ms(s,r+18),compressedSize:ms(s,r+14)});const w=l.get(1);w&&(((e,t)=>{t.zip64=!0;const n=bs(e.data),s=is.filter((([e,n])=>t[e]==n));for(let r=0,a=0;r<s.length;r++){const[i,o]=s[r];if(t[i]==o){const s=os[o];t[i]=e[i]=s.getValue(n,a),a+=s.bytes}else if(e[i])throw new h("Zip64 extra field not found")}})(w,t),t.extraFieldZip64=w);const g=l.get(28789);g&&(await fs(g,On,In,t,e),t.extraFieldUnicodePath=g);const m=l.get(25461);m&&(await fs(m,Nn,Vn,t,e),t.extraFieldUnicodeComment=m);const y=l.get(39169);y?(((e,t,s)=>{const r=bs(e.data),a=ws(r,4);n.assign(e,{vendorVersion:ws(r,0),vendorId:ws(r,2),strength:a,originalCompressionMethod:s,compressionMethod:gs(r,5)}),t.compressionMethod=e.compressionMethod})(y,t,p),t.extraFieldAES=y):t.compressionMethod=p;const b=l.get(10);b&&(((e,t)=>{const s=bs(e.data);let r,a=4;try{for(;a<e.data.length&&!r;){const t=gs(s,a),n=gs(s,a+2);1==t&&(r=e.data.slice(a+4,a+4+n)),a+=4+n}}catch(e){}try{if(r&&24==r.length){const s=bs(r),a=s.getBigUint64(0,!0),i=s.getBigUint64(8,!0),o=s.getBigUint64(16,!0);n.assign(e,{rawLastModDate:a,rawLastAccessDate:i,rawCreationDate:o});const c={lastModDate:ps(a),lastAccessDate:ps(i),creationDate:ps(o)};n.assign(e,c),n.assign(t,c)}}catch(e){}})(b,t),t.extraFieldNTFS=b);const v=l.get(21589);v&&(((e,t,n)=>{const s=bs(e.data),r=ws(s,0),a=[],i=[];n?(1&~r||(a.push(Xn),i.push(Jn)),2&~r||(a.push(Qn),i.push("rawLastAccessDate")),4&~r||(a.push(Yn),i.push("rawCreationDate"))):5>e.data.length||(a.push(Xn),i.push(Jn));let c=1;a.forEach(((n,r)=>{if(e.data.length>=c+4){const a=ms(s,c);t[n]=e[n]=new o(1e3*a);const l=i[r];e[l]=a}c+=4}))})(v,t,a),t.extraFieldExtendedTimestamp=v);const k=l.get(6534);k&&(t.extraFieldUSDZ=k)}async function fs(e,t,s,r,a){const i=bs(e.data),o=new yt;o.append(a[s]);const c=bs(new d(4));c.setUint32(0,o.get(),!0);const l=ms(i,1);n.assign(e,{version:ws(i,0),[t]:Mn(e.data.subarray(5)),valid:!a.bitFlag.languageEncodingFlag&&l==ms(c,0)}),e.valid&&(r[t]=e[t],r[t+"UTF8"]=!0)}function hs(e,t,n){return t[n]===De?e.options[n]:t[n]}function ds(e){const t=(4294901760&e)>>16,n=65535&e;try{return new o(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}function ps(e){return new o(r(e/a(1e4)-a(116444736e5)))}function ws(e,t){return e.getUint8(t)}function gs(e,t){return e.getUint16(t,!0)}function ms(e,t){return e.getUint32(t,!0)}function ys(e,t){return r(e.getBigUint64(t,!0))}function bs(e){return new g(e.buffer)}He({Inflate:Ce}),e.BlobReader=Je,e.BlobWriter=Qe,e.Data64URIWriter=class extends Xe{constructor(e){super(),n.assign(this,{data:"data:"+(e||"")+";base64,",pending:[]})}writeUint8Array(e){const t=this;let n=0,r=t.pending;const a=t.pending.length;for(t.pending="",n=0;n<3*i.floor((a+e.length)/3)-a;n++)r+=s.fromCharCode(e[n]);for(;n<e.length;n++)t.pending+=s.fromCharCode(e[n]);r.length>2?t.data+=z(r):t.pending=r}getData(){return this.data+z(this.pending)}},e.HttpRangeReader=class extends ft{constructor(e,t={}){t.useRangeHeader=!0,super(e,t)}},e.TextWriter=class extends Qe{constructor(e){super(e),n.assign(this,{encoding:e,utf8:!e||"utf-8"==e.toLowerCase()})}async getData(){const{encoding:e,utf8:t}=this,s=await super.getData();if(s.text&&t)return s.text();{const t=new FileReader;return new y(((r,a)=>{n.assign(t,{onload:({target:e})=>r(e.result),onerror:()=>a(t.error)}),t.readAsText(s,e)}))}}},e.ZipReader=class{constructor(e,t={}){n.assign(this,{reader:wt(e),options:t,config:Ee()})}async*getEntriesGenerator(e={}){const t=this;let{reader:s}=t;const{config:r}=t;if(await pt(s),s.size!==De&&s.readUint8Array||(s=new Je(await new u(s.readable).blob()),await pt(s)),s.size<xe)throw new h(ts);s.chunkSize=(e=>i.max(e.chunkSize,64))(r);const a=await(async(e,t,n)=>{const s=new d(4);return 101010256,bs(s).setUint32(0,101010256,!0),await r(22)||await r(i.min(1048582,n));async function r(t){const r=n-t,a=await gt(e,r,t);for(let e=a.length-22;e>=0;e--)if(a[e]==s[0]&&a[e+1]==s[1]&&a[e+2]==s[2]&&a[e+3]==s[3])return{offset:r+e,buffer:a.slice(e,e+22).buffer}}})(s,0,s.size);if(!a)throw 134695760==ms(bs(await gt(s,0,4)))?new h(ss):new h("End of central directory not found");const o=bs(a);let c=ms(o,12),l=ms(o,16);const f=a.offset,p=gs(o,20),w=f+xe+p;let g=gs(o,4);const m=s.lastDiskNumber||0;let y=gs(o,6),b=gs(o,8),v=0,k=0;if(l==ve||c==ve||b==ke||y==ke){const e=bs(await gt(s,a.offset-20,20));if(117853008==ms(e,0)){l=ys(e,8);let t=await gt(s,l,56,-1),n=bs(t);const r=a.offset-20-56;if(ms(n,0)!=ze&&l!=r){const e=l;l=r,v=l-e,t=await gt(s,l,56,-1),n=bs(t)}if(ms(n,0)!=ze)throw new h("End of Zip64 central directory locator not found");g==ke&&(g=ms(n,16)),y==ke&&(y=ms(n,20)),b==ke&&(b=ys(n,32)),c==ve&&(c=ys(n,40)),l-=c}}if(l<s.size||(v=s.size-l-c-xe,l=s.size-c-xe),m!=g)throw new h(ss);if(0>l)throw new h(ts);let S=0,z=await gt(s,l,c,y),x=bs(z);if(c){const e=a.offset-c;if(ms(x,S)!=Se&&l!=e){const t=l;l=e,v+=l-t,z=await gt(s,l,c,y),x=bs(z)}}const D=a.offset-l-(s.lastDiskOffset||0);if(c==D||0>D||(c=D,z=await gt(s,l,c,y),x=bs(z)),0>l||l>=s.size)throw new h(ts);const _=hs(t,e,"filenameEncoding"),R=hs(t,e,"commentEncoding");for(let a=0;b>a;a++){const o=new cs(s,r,t.options);if(ms(x,S)!=Se)throw new h("Central directory header not found");ls(o,x,S+6);const c=!!o.bitFlag.languageEncodingFlag,l=S+46,u=l+o.filenameLength,f=u+o.extraFieldLength,d=gs(x,S+4),p=!0,w=z.subarray(l,u),g=gs(x,S+32),m=f+g,y=z.subarray(f,m),D=c,F=c,T=p&&!(16&~ws(x,S+38)),C=ms(x,S+42)+v;n.assign(o,{versionMadeBy:d,msDosCompatible:p,compressedSize:0,uncompressedSize:0,commentLength:g,directory:T,offset:C,diskNumberStart:gs(x,S+34),internalFileAttribute:gs(x,S+36),externalFileAttribute:ms(x,S+38),rawFilename:w,filenameUTF8:D,commentUTF8:F,rawExtraField:z.subarray(u,f)});const W=hs(t,e,"decodeText")||Mn,U=D?rs:_||as,A=F?rs:R||as;let L=W(w,U);L===De&&(L=Mn(w,U));let E=W(y,A);E===De&&(E=Mn(y,A)),n.assign(o,{rawComment:y,filename:L,comment:E,directory:T||L.endsWith("/")}),k=i.max(C,k),await us(o,o,x,S+6);const H=new es(o);H.getData=(e,t)=>o.getData(e,H,t),S=m;const{onprogress:q}=e;if(q)try{await q(a+1,b,new es(o))}catch(e){}yield H}const F=hs(t,e,"extractPrependedData"),T=hs(t,e,"extractAppendedData");return F&&(t.prependedData=k>0?await gt(s,0,k):new d),t.comment=p?await gt(s,f+xe,p):new d,T&&(t.appendedData=w<s.size?await gt(s,w,s.size-w):new d),!0}async getEntries(e={}){const t=[];for await(const n of this.getEntriesGenerator(e))t.push(n);return t}async close(){}},e.configure=He}));
